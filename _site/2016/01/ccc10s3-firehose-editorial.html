<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>William Granados</title>
  <meta name="theme-color" content="#222222" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="http://localhost:4000/js/jquery.min.js"></script>
  <script src="http://localhost:4000/js/bootstrap.min.js"></script>
  <script src="http://localhost:4000/js/header.js"></script>
  <script src="http://localhost:4000/js/toc.js"></script>
  <link href="http://localhost:4000/css/bootstrap.min.css" rel="stylesheet">
  <link href="http://localhost:4000/css/theme.css" rel="stylesheet">
  <link href="http://localhost:4000/css/syntax.css" rel="stylesheet">
  <link href="http://localhost:4000/css/font-awesome/css/font-awesome.min.css" rel="stylesheet">
</head>

<body>

  

  


 <script type="text/javascript">
  WebFontConfig = {
    google: {
      families: ['Ubuntu::latin']
    }
  };
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
  })();
</script>

  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://localhost:4000/">William Granados</a>
      </div>
      <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li><a href="http://localhost:4000/">/home</a></li>
          <li><a href="http://localhost:4000/archive.html">/archive</a></li>
          <li><a href="http://localhost:4000/projects.html">/projects</a></li>
          <li><a href="http://localhost:4000/tags.html">/tags</a></li>
          <li><a href="http://localhost:4000/about.html">/about</a></li>
        </ul>
      </div>
    </div>
  </nav>


<div class="wrapper">
  <div class="content">
    <div class="container container-center">
      <div class="row">
        <div class="col-md-8">
          <div class="article">
            <div class="well">
              <h1><a href="http://localhost:4000/2016/01/ccc10s3-firehose-editorial">CCC10S3 - Firehose (Editorial)</a></h1>
              <div class="post-meta">
                <div class="post-time">
                  <i class="fa fa-calendar"></i>
                  <time>14 Jan 2016</time>
                </div>
                <ul>
                  
                    <li><a href="http://localhost:4000/tag/Binary Search">Binary Search</a></li>
                  
                    <li><a href="http://localhost:4000/tag/Canadian Computing Competition">Canadian Computing Competition</a></li>
                  
                    <li><a href="http://localhost:4000/tag/CCC">CCC</a></li>
                  
                </ul>
              </div>
              <div class="post-content">
                <div id="toc" class="toc"></div>
                <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<p>This problems asks us to find the minimum length of hose required to connect a series of houses if were only given K fire hydrants from which to extend our hose from. We must then take into consideration the maximum hose length possible is 1,000,000, because this number is so large we know that a simple iterative solution will likely not run in time. What we need to notice is that once we have found one possible hose length that satisfies the condition above we do not need to consider hose lengths that are longer, likewise we also have to notice that if the current hose length does not satisfy the conditions then all hose lengths less than this hose length are also impossible. Once we see this property the problem becomes a trivial binary search problem, weâ€™re using binary search on the hose length.</p>

<p>Now that this idea has been formulated we must define a predicate. The predicate should be if the current hose length is possible then the upper bound is now the hose length, otherwise the lower bound is now equal to the hose length. In provided solution the predicate written has a time complexity of <script type="math/tex">O(H^2)</script> where <script type="math/tex">H</script> is the number of houses and the binary search has a time complexity of <script type="math/tex">O(\log{}L)</script> where <script type="math/tex">L</script> is the length of the hose.</p>

<p>Time complexity: <script type="math/tex">O(H^2\log{}L)</script></p>

<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="cp">#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;vector&gt;
#include&lt;algorithm&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">const</span> <span class="kt">int</span> <span class="n">MAXH</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">H</span><span class="p">,</span><span class="n">K</span><span class="p">,</span><span class="n">lo</span><span class="p">,</span><span class="n">hi</span><span class="p">,</span><span class="n">mid</span><span class="p">;</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="n">house</span><span class="p">;</span>
<span class="kt">bool</span> <span class="n">v</span><span class="p">[</span><span class="n">MAXH</span><span class="p">];</span>


<span class="cm">/*minimum between distance taking wrapping into consideration*/</span>
<span class="kt">int</span> <span class="n">dist</span><span class="p">(</span><span class="kt">int</span> <span class="n">h1</span><span class="p">,</span><span class="kt">int</span> <span class="n">h2</span><span class="p">){</span>
  <span class="k">return</span> <span class="n">min</span><span class="p">(</span><span class="n">h2</span><span class="o">-</span><span class="n">h1</span><span class="p">,(</span><span class="kt">int</span><span class="p">)</span><span class="mf">1e6</span><span class="o">-</span><span class="n">h2</span><span class="o">+</span><span class="n">h1</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/* Places a hydrant hose_len units away from the current house. For all houses 
 * in front of the current house, if their distance from the current house is 
 * less than or equal to 2*hose_len meaning they are either on the left side of
 * the hydrant (placed hose_len units ahead of the current house) or on the 
 * right side of the hydrant (hence the extra hose_len) then they are marked
 * as visisted.
 */</span>
<span class="kt">bool</span> <span class="n">predicate</span><span class="p">(</span><span class="kt">int</span> <span class="n">hose_len</span><span class="p">,</span><span class="kt">int</span> <span class="n">k_left</span> <span class="o">=</span> <span class="n">K</span><span class="p">,</span><span class="kt">int</span> <span class="n">h_left</span> <span class="o">=</span> <span class="n">H</span><span class="p">){</span>
  <span class="n">memset</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="nb">false</span><span class="p">,</span><span class="k">sizeof</span><span class="p">(</span><span class="n">v</span><span class="p">));</span>
  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="n">i</span> <span class="o">&lt;</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">house</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">h_left</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">k_left</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span><span class="o">++</span><span class="n">i</span><span class="p">){</span>
      <span class="k">if</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="k">continue</span><span class="p">;</span>
      <span class="k">else</span><span class="p">{</span>
        <span class="n">k_left</span><span class="o">--</span><span class="p">,</span><span class="n">h_left</span><span class="o">--</span><span class="p">,</span><span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">%</span><span class="n">H</span><span class="p">;</span><span class="n">k</span> <span class="o">&lt;</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">house</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="o">++</span><span class="n">k</span><span class="p">){</span>
            <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">v</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">dist</span><span class="p">(</span><span class="n">house</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">house</span><span class="p">[</span><span class="n">k</span><span class="p">])</span> <span class="o">&lt;=</span> <span class="mi">2</span><span class="o">*</span><span class="n">hose_len</span><span class="p">)</span>
                <span class="n">h_left</span><span class="o">--</span><span class="p">,</span><span class="n">v</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
            <span class="k">else</span>
                <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="p">(</span><span class="n">h_left</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">?</span> <span class="nb">true</span><span class="o">:</span><span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">(){</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">H</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">H</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">){</span>
      <span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">j</span><span class="p">);</span>
      <span class="n">house</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">j</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">sort</span><span class="p">(</span><span class="n">house</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="n">house</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">K</span><span class="p">);</span>
    <span class="n">lo</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="n">hi</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="mf">1e6</span><span class="p">,</span><span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">lo</span><span class="o">+</span><span class="n">hi</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="n">lo</span> <span class="o">&lt;</span> <span class="n">hi</span><span class="p">){</span>
        <span class="c1">// this hose length works so it's now the upper bound
</span>        <span class="k">if</span><span class="p">(</span><span class="n">predicate</span><span class="p">(</span><span class="n">mid</span><span class="p">))</span>
            <span class="n">hi</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span>
        <span class="c1">// this hose length is too short
</span>        <span class="k">else</span>              
            <span class="n">lo</span> <span class="o">=</span> <span class="n">mid</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">lo</span><span class="o">+</span><span class="n">hi</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">mid</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>


                

              </div>
              
              <div id="disqus_thread">
                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
              </div>
              
            </div>
          </div>
        </div>
        <div class="col-md-4 hidden-xs">
          <div class="sidebar ">
  <h2>Recent Posts</h2>
  <ul>
    
    <li><a href="/2016/04/fire-emblem-apostheosis-team">Fire Emblem Awakening - Apostheosis</a></li>
    
    <li><a href="/2016/01/ccc10s2p3-wowow-editorial">CCC10S2P3 - Wowow (Editorial)</a></li>
    
    <li><a href="/2016/01/ccc10s2p1-barking-dogs-editorial">CCC10S2P1 - Barking Dogs! (Editorial)</a></li>
    
    <li><a href="/2016/01/ccc10s4-animal-farm-editorial">CCC10S4 - Animal Farm (Editorial)</a></li>
    
    <li><a href="/2016/01/ccc10s3-firehose-editorial">CCC10S3 - Firehose (Editorial)</a></li>
    
  </ul>
</div>

<div class="sidebar">
  <h2>Tags</h2>
  <ul>
    
      <li><a href="/tag/Canadian Computing Competition">Canadian Computing Competition</a></li>
    
      <li><a href="/tag/CCC">CCC</a></li>
    
      <li><a href="/tag/No Brainers For Speed">No Brainers For Speed</a></li>
    
      <li><a href="/tag/Binary Search">Binary Search</a></li>
    
      <li><a href="/tag/Minimum Spanning Tree">Minimum Spanning Tree</a></li>
    
      <li><a href="/tag/Implementation">Implementation</a></li>
    
      <li><a href="/tag/Data Structures">Data Structures</a></li>
    
  </ul>
</div>

        </div>
      </div>
    </div>
    
<!-- Add Disqus comments. -->
<div id="disqus_thread"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'wgma'; // required: replace example with your forum shortname
  var disqus_identifier = "/2016/01/ccc10s3-firehose-editorial";

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


  </div>
      <footer class="footer-distributed">
      <div class="container">
        <div class="footer">
          <p>William Granados &copy; 2016</p>
          <h6>Follow me</h6>

<ul class="social-media">

  
    <li>
      <a title="wgma00 on Github" href="https://github.com/wgma00" target="_blank"><i class="fa fa-github fa-2x"></i></a>
    </li>
  

  
    <li>
      <a title="5972611/wgma00 on StackOverflow" href="http://stackoverflow.com/users/5972611/wgma00" target="_blank"><i class="fa fa-stack-overflow fa-2x"></i></a>
    </li>
  

  
    <li>
      <a title="wgma00 on LinkedIn" href="https://www.linkedin.com/in/williamgranados" target="_blank"><i class="fa fa-linkedin fa-2x"></i></a>
    </li>
  

  

  

  
    <li>
      <a title="feed.xml RSS" href="/feed.xml" target="_blank"><i class="fa fa-rss fa-2x"></i></a>
    </li>
  

</ul>

        </div>
      </div>
    </footer>
  </body>
</html>

</div>
